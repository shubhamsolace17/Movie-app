"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[653],{9315:function(e,n,r){r.d(n,{Z:function(){return E}});var t=r(7568),o=r(4924),i=r(4051),a=r.n(i),c=r(5893),s=r(7294),u=(r(1664),r(1163)),l=r(9238),d=r(3321),f=r(8502),p=r(5861),m=r(4267),h=r(549),g=r(2734),x=r(6242),v=r(480),b=r(6310),j=r(6042),Z=r(9396),w=r(1582),C=r(7465),y={borderColor:"#2196f3"},_={borderColor:"#00e676"},k={borderColor:"#ff1744"};var P=function(e){var n=e.onChange,r=e.error,t=(e.isEdit,e.image),o=e.isMobile;console.log("isMobile",o);var i={display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:10,height:o?"100%":"504px",width:o?"50vw":"473px",borderColor:r?"#ff1744":"#eeeeee",borderStyle:"dashed",backgroundColor:"#224957",color:r?"#ff1744":"#bdbdbd",transition:"border .3s ease-in-out",justifyContent:"center"},a=(0,s.useState)([]),u=a[0],l=a[1];(0,s.useEffect)((function(){t&&l([{preview:"".concat(C._n).concat(t)}])}),[t]);var d=(0,s.useCallback)((function(e){l(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))),n(e[0])}),[n]),f=(0,w.uI)({onDrop:d,accept:"image/jpeg, image/png, image/jpg"}),p=f.getRootProps,m=f.getInputProps,h=f.isDragActive,g=f.isDragAccept,x=f.isDragReject,v=(0,s.useMemo)((function(){return(0,j.Z)({},i,h?y:{},g?_:{},x?k:{})}),[i,h,x,g]),b=u.map((function(e){return(0,c.jsx)("div",{children:(0,c.jsx)("img",{width:"100px",height:"100px",style:{borderRadius:10},src:e.preview,alt:e.name})},e.name)}));return(0,s.useEffect)((function(){return function(){u.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[u]),console.log("files",u),(0,c.jsxs)("section",{children:[(0,c.jsxs)("div",(0,Z.Z)((0,j.Z)({},p({style:v})),{children:[(0,c.jsx)("input",(0,j.Z)({},m())),(0,c.jsx)("div",{children:r?(0,c.jsxs)("p",{children:["Error: ",r]}):(0,c.jsx)("div",{children:"Drag and drop your images here."})})]})),(0,c.jsx)("aside",{children:b})]})},R=r(2175),S=r(6886),B=(0,h.ZP)(x.Z)((function(e){var n=e.theme;return(0,o.Z)({},n.breakpoints.up("sm"),{width:"28rem"})})),E=((0,h.ZP)("a")((function(e){return{fontSize:"0.875rem",textDecoration:"none",color:e.theme.palette.primary.main}})),(0,h.ZP)(v.Z)((function(e){e.theme;return{"& .MuiFormControlLabel-label":{fontSize:"0.875rem",color:"white"}}})),function(e){var n=e.pageTitle,r=e.isEdit,o=e.value,i=e.onSubmit,h=e.isMobile,x=(0,s.useState)({title:(null===o||void 0===o?void 0:o.title)?null===o||void 0===o?void 0:o.title:"",year:(null===o||void 0===o?void 0:o.year)?null===o||void 0===o?void 0:o.year:"",image:(null===o||void 0===o?void 0:o.image)?null===o||void 0===o?void 0:o.image:null}),v=x[0],j=(x[1],(0,g.Z)(),(0,u.useRouter)());console.log("::::::::",v);var Z=b.Ry().shape({title:b.Z_().required("title is required"),year:b.Z_().required("year is required"),image:b.Z_().required("Image is required")}),w=function(){var e=(0,t.Z)(a().mark((function e(n,r,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("________________--",n,r),i(n);case 2:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(R.J9,{initialValues:v,enableReinitialize:!0,validationSchema:Z,onSubmit:function(){var e=(0,t.Z)(a().mark((function e(n,r,t){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.resetForm,w(n,o,t);case 2:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,i=e.errors,a=e.touched,s=e.handleChange,u=e.handleBlur,g=e.handleSubmit,x=(e.isSubmitting,e.setFieldValue);e.resetForm;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p.Z,{variant:"h6",sx:{textAlign:"center",lineHeight:1,fontWeight:600,fontSize:"2.5rem !important",color:"white",width:"50%",top:"120px",left:"0px",paddingLeft:30,position:"absolute"},children:n}),(0,c.jsx)(l.Z,{className:"content-center",children:(0,c.jsxs)(S.ZP,{container:!0,children:[(0,c.jsx)(S.ZP,{item:!0,xs:6,container:!0,justifyContent:"center",alignItems:"center",children:(0,c.jsx)(S.ZP,{item:!0,xs:2,children:(0,c.jsx)(P,{isMobile:h,image:r?o.image:null,error:i.image,onChange:function(e){x("image",e)}})})}),(0,c.jsx)(S.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,c.jsx)(B,{sx:{backgroundColor:"#093545",padding:0},children:(0,c.jsx)(m.Z,{sx:{border:0},children:(0,c.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:[(0,c.jsx)(f.Z,{name:"title",value:t.title,onChange:s,onBlur:u,error:a.title&&Boolean(i.title),fullWidth:!0,label:"Title",sx:{marginBottom:4,backgroundColor:"#224957",borderRadius:"10px",input:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),(0,c.jsx)(f.Z,{name:"year",value:t.year,onChange:s,onBlur:u,error:a.year&&Boolean(i.year),label:"Publishing year",sx:{marginBottom:4,backgroundColor:"#224957",borderRadius:"10px"},InputLabelProps:{style:{color:"white"}}}),(0,c.jsx)(l.Z,{sx:{mb:4,display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center",height:"24px",marginTop:"10px",marginBottom:"20px"}}),(0,c.jsxs)("div",{className:"button-wrapper",style:{display:"flex",gap:"16px"},children:[(0,c.jsx)(d.Z,{className:"col-6",fullWidth:!0,size:"large",variant:"outlined",sx:{marginBottom:7,color:"#fff",borderColor:"#fff",borderRadius:"10px",height:"54px"},onClick:function(){return j.push("/dashboard")},children:"Cancel"}),(0,c.jsx)(d.Z,{className:"col-6",fullWidth:!0,size:"large",variant:"contained",sx:{marginBottom:7,borderRadius:"10px",height:"54px"},onClick:g,children:r?"Update":"Submit"})]})]})})})})]})})]})}})})})},7465:function(e,n,r){r.d(n,{Aj:function(){return i},Hw:function(){return o},QP:function(){return c},_V:function(){return s},_n:function(){return t},qi:function(){return a}});var t="http://34.230.50.80/api/",o="".concat(t,"user/user-signin"),i="".concat(t,"movie/create-movie"),a="".concat(t,"movie/update-movie/"),c="".concat(t,"movie/movie-list"),s="".concat(t,"movie/movie-by-id/")},3827:function(e,n,r){r.d(n,{M6:function(){return p},sm:function(){return h},Hw:function(){return g},o:function(){return f},Pk:function(){return m}});var t=r(7465),o=r(7568),i=r(6042),a=r(4051),c=r.n(a),s=r(5121),u={timeout:45e3},l=function(e){var n=s.Z.create((0,i.Z)({},u,{baseURL:e}));return n.CancelToken=s.Z.CancelToken,n.isCancel=s.Z.isCancel,n.interceptors.request.use(function(){var e=(0,o.Z)(c().mark((function e(n){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),console.log("acc",r),t=(0,i.Z)({},n),r&&(t.headers.Authorization="".concat(r)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.interceptors.response.use((function(e){return 200==e.status||201==e.status?e.data:[]}),(function(e){if("Network Error"===e.toJSON().message&&alert("Network Error","Please Check Network connection"),!e.config.url.includes("logout")&&!n.isCancel(e))return e.response&&401===e.response.status?(console.warn("---",e),e):e})),n}(t._n),d=l,f=function(e){return d.post("".concat(t.Hw),e)},p=function(e){return d.post("".concat(t.Aj),e)},m=function(e,n){return d.post("".concat(t.qi).concat(e),n)},h=function(e,n){return d.post("".concat(t.QP,"?page=").concat(e,"&limit=").concat(n))},g=function(e){return d.get("".concat(t._V).concat(e))}}}]);