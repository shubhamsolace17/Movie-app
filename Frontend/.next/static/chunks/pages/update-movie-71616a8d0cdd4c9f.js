(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{8436:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-movie",function(){return t(9014)}])},2647:function(e,n,t){"use strict";var r=t(5893),o=(t(7294),t(2440));n.Z=function(e){e.loading;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"loader-overlay",children:(0,r.jsx)(o.Z1,{height:100,width:100,color:"#6cd27e",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"three-circles-rotating",secondaryColor:"#FF6600",strokeWidth:4,strokeWidthSecondary:2})})})}},9014:function(e,n,t){"use strict";t.r(n);var r=t(7568),o=t(6042),i=t(9396),s=t(4051),a=t.n(s),c=t(5893),u=t(7294),l=t(1163),d=t(5064),f=t(9315),p=t(3827),h=t(2647),v=function(){var e=(0,l.useRouter)(),n=(0,u.useState)(!1),t=(n[0],n[1]),s=(0,u.useState)(),d=s[0],v=s[1],w=e.query.movieId,g=(0,u.useState)(),m=g[0],b=g[1],j=(0,u.useState)(),E=j[0],_=j[1];(0,u.useEffect)((function(){return console.log("window.screen.availWidth",window.screen.availWidth),window.screen.availWidth>=1024?_(!1):_(!0),window.addEventListener("resize",onScreenResize),function(){window.removeEventListener("resize",onScreenResize)}}),[]),(0,u.useEffect)((function(){x(w)}),[w]);var x=function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Hw)(n).then((function(e){if(v(n),console.log("sdsd",e),e.success){var r=null===e||void 0===e?void 0:e.movieDetail;console.log("response.data[0]",e.data,r);var o={title:r.title,year:r.publishingYear,image:r.poster};console.log("ojbje",o),b(o),t(!1)}else alert(e.message),t(!1)})).catch((function(e){t(!1),alert(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var n=(0,r.Z)(a().mark((function n(r){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("bsjadbnasd",r),(o=new FormData).append("title",r.title),o.append("publishingYear",r.year),o.append("poster",r.image),console.log("ffd",o),n.next=8,(0,p.Pk)(d,o).then((function(n){(null===n||void 0===n?void 0:n.success)?(t(!1),e.push("/dashboard")):t(!1)})).catch((function(e){t(!1),alert("Error!",e)}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return console.log("moo",m),(0,c.jsx)(c.Fragment,{children:m&&Object.values(m).length>0?(0,c.jsx)(f.Z,{value:m,pageTitle:"Edit",isEdit:!0,onSubmit:function(e){k(e)},isMobile:E,onImageChange:function(e){console.log("sdsksj",e),b((0,i.Z)((0,o.Z)({},m),{image:e}))}}):(0,c.jsx)(h.Z,{})})};v.getLayout=function(e){return(0,c.jsx)(d.Z,{children:e})},n.default=v}},function(e){e.O(0,[794,346,126,444,664,881,582,653,774,888,179],(function(){return n=8436,e(e.s=n);var n}));var n=e.O();_N_E=n}]);